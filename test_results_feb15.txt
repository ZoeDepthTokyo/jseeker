============================= test session starts =============================
platform win32 -- Python 3.14.2, pytest-9.0.2, pluggy-1.6.0 -- C:\Python314\python.exe
cachedir: .pytest_cache
rootdir: X:\projects\jSeeker
configfile: pytest.ini
plugins: anyio-4.12.1, cov-7.0.0
collecting ... collected 437 items

tests/test_adapter.py::TestLocationsByMarket::test_locations_by_market_us PASSED [  0%]
tests/test_adapter.py::TestLocationsByMarket::test_locations_by_market_mx PASSED [  0%]
tests/test_adapter.py::TestLocationsByMarket::test_locations_by_market_ca PASSED [  0%]
tests/test_adapter.py::TestLocationsByMarket::test_locations_by_market_european PASSED [  0%]
tests/test_adapter.py::TestLocationsByMarket::test_all_markets_present PASSED [  1%]
tests/test_adapter.py::TestAdaptBulletsBatchErrorHandling::test_adapt_bullets_malformed_json_raises_error PASSED [  1%]
tests/test_adapter.py::TestAdaptBulletsBatchErrorHandling::test_adapt_bullets_wrong_array_length_raises_error PASSED [  1%]
tests/test_adapter.py::TestAdaptBulletsBatchErrorHandling::test_adapt_bullets_non_array_response_raises_error PASSED [  1%]
tests/test_adapter.py::TestAdaptBulletsBatchErrorHandling::test_adapt_bullets_backticks_stripped_before_parse PASSED [  2%]
tests/test_adapter.py::TestAdaptBulletsBatchErrorHandling::test_adapt_bullets_empty_response_raises_error PASSED [  2%]
tests/test_adapter.py::TestAdaptBulletsBatchErrorHandling::test_adapt_bullets_success_case PASSED [  2%]
tests/test_application_tracker.py::TestSalaryFields::test_salary_fields_stored_correctly PASSED [  2%]
tests/test_application_tracker.py::TestSalaryFields::test_salary_fields_optional PASSED [  2%]
tests/test_application_tracker.py::TestSalaryFields::test_salary_fields_update PASSED [  3%]
tests/test_application_tracker.py::TestSalaryFields::test_salary_currency_options PASSED [  3%]
tests/test_application_tracker.py::TestSalaryFields::test_salary_zero_values PASSED [  3%]
tests/test_application_tracker.py::TestRelevanceScore::test_relevance_range_validation PASSED [  3%]
tests/test_application_tracker.py::TestRelevanceScore::test_relevance_score_categories PASSED [  4%]
tests/test_application_tracker.py::TestTrackerIntegration::test_list_applications_with_salary PASSED [  4%]
tests/test_application_tracker.py::TestTrackerIntegration::test_filter_applications_by_status PASSED [  4%]
tests/test_application_tracker.py::TestTrackerIntegration::test_update_application_salary_fields PASSED [  4%]
tests/test_application_tracker.py::TestDatabaseMigration::test_migration_adds_salary_columns PASSED [  5%]
tests/test_application_tracker.py::TestDatabaseMigration::test_migration_idempotent PASSED [  5%]
tests/test_application_tracker.py::TestEdgeCases::test_very_large_salary_values PASSED [  5%]
tests/test_application_tracker.py::TestEdgeCases::test_inverted_salary_range PASSED [  5%]
tests/test_application_tracker.py::TestEdgeCases::test_partial_salary_data PASSED [  5%]
tests/test_ats_scorer.py::TestRecommendFormat::test_workday_recommends_docx PASSED [  6%]
tests/test_ats_scorer.py::TestRecommendFormat::test_greenhouse_recommends_pdf PASSED [  6%]
tests/test_ats_scorer.py::TestRecommendFormat::test_lever_recommends_pdf PASSED [  6%]
tests/test_ats_scorer.py::TestRecommendFormat::test_icims_recommends_docx PASSED [  6%]
tests/test_ats_scorer.py::TestRecommendFormat::test_taleo_recommends_docx PASSED [  7%]
tests/test_ats_scorer.py::TestRecommendFormat::test_ashby_recommends_pdf PASSED [  7%]
tests/test_ats_scorer.py::TestRecommendFormat::test_unknown_recommends_both PASSED [  7%]
tests/test_ats_scorer.py::TestLocalFormatScore::test_complete_resume_scores_high PASSED [  7%]
tests/test_ats_scorer.py::TestLocalFormatScore::test_missing_skills_penalized PASSED [  8%]
tests/test_batch_learning.py::test_batch_processor_constants PASSED      [  8%]
tests/test_batch_learning.py::test_batch_processor_enforces_max_size PASSED [  8%]
tests/test_batch_learning.py::test_batch_progress_segment_fields PASSED  [  8%]
tests/test_batch_learning.py::test_batch_progress_to_dict_includes_segments PASSED [  8%]
tests/test_batch_learning.py::test_batch_segments_calculated_correctly PASSED [  9%]
tests/test_batch_learning.py::test_learning_pause_triggered_at_segment_boundary PASSED [  9%]
tests/test_batch_learning.py::test_analyze_batch_patterns_basic PASSED   [  9%]
tests/test_batch_learning.py::test_analyze_batch_patterns_empty PASSED   [  9%]
tests/test_batch_learning.py::test_learning_pause_auto_resumes PASSED    [ 10%]
tests/test_batch_learning.py::test_learning_pause_not_triggered_on_final_segment PASSED [ 10%]
tests/test_batch_learning.py::test_segment_tracking_persists_through_pause PASSED [ 10%]
tests/test_batch_processor.py::test_batch_job_creation PASSED            [ 10%]
tests/test_batch_processor.py::test_batch_job_to_dict PASSED             [ 10%]
tests/test_batch_processor.py::test_worker_status PASSED                 [ 11%]
tests/test_batch_processor.py::test_batch_progress_properties PASSED     [ 11%]
tests/test_batch_processor.py::test_batch_progress_to_dict PASSED        [ 11%]
tests/test_batch_processor.py::test_batch_progress_estimated_time PASSED [ 11%]
tests/test_batch_processor.py::test_jd_cache_basic PASSED                [ 12%]
tests/test_batch_processor.py::test_jd_cache_miss PASSED                 [ 12%]
tests/test_batch_processor.py::test_jd_cache_clear PASSED                [ 12%]
tests/test_batch_processor.py::test_batch_processor_init PASSED          [ 12%]
tests/test_batch_processor.py::test_batch_processor_submit_empty_urls PASSED [ 13%]
tests/test_batch_processor.py::test_batch_processor_submit_batch PASSED  [ 13%]
tests/test_batch_processor.py::test_batch_processor_progress_callback PASSED [ 13%]
tests/test_batch_processor.py::test_batch_processor_pause_resume PASSED  [ 13%]
tests/test_batch_processor.py::test_batch_processor_stop PASSED          [ 13%]
tests/test_batch_processor.py::test_batch_processor_skip_known_urls PASSED [ 14%]
tests/test_batch_processor.py::test_batch_processor_handle_extraction_error PASSED [ 14%]
tests/test_batch_processor.py::test_batch_processor_handle_pipeline_error PASSED [ 14%]
tests/test_batch_processor.py::test_batch_processor_worker_limit PASSED  [ 14%]
tests/test_batch_processor.py::test_batch_processor_get_progress PASSED  [ 15%]
tests/test_batch_processor.py::test_batch_processor_get_job_status PASSED [ 15%]
tests/test_batch_processor.py::test_batch_processor_get_all_jobs PASSED  [ 15%]
tests/test_batch_processor.py::test_batch_processor_jd_cache_usage PASSED [ 15%]
tests/test_batch_processor.py::test_batch_processor_full_pipeline PASSED [ 16%]
tests/test_batch_processor.py::test_batch_processor_performance PASSED   [ 16%]
tests/test_block_manager.py::TestBlockManager::test_load_corpus PASSED   [ 16%]
tests/test_block_manager.py::TestBlockManager::test_get_summary_ai_ux PASSED [ 16%]
tests/test_block_manager.py::TestBlockManager::test_get_summary_ai_product PASSED [ 16%]
tests/test_block_manager.py::TestBlockManager::test_get_summary_hybrid PASSED [ 17%]
tests/test_block_manager.py::TestBlockManager::test_get_experience_for_template PASSED [ 17%]
tests/test_block_manager.py::TestBlockManager::test_get_bullets PASSED   [ 17%]
tests/test_block_manager.py::TestBlockManager::test_get_all_ats_keywords PASSED [ 17%]
tests/test_block_manager.py::TestBlockManager::test_get_skills_matching_keywords PASSED [ 18%]
tests/test_browser_manager.py::TestBrowserSubprocess::test_start_browser_subprocess_success PASSED [ 18%]
tests/test_browser_manager.py::TestBrowserSubprocess::test_start_browser_subprocess_dies_early PASSED [ 18%]
tests/test_browser_manager.py::TestBrowserSubprocess::test_start_browser_subprocess_timeout PASSED [ 18%]
tests/test_browser_manager.py::TestBrowserSubprocess::test_get_browser_subprocess_creates_new PASSED [ 18%]
tests/test_browser_manager.py::TestBrowserSubprocess::test_get_browser_subprocess_restarts_after_max_renders PASSED [ 19%]
tests/test_browser_manager.py::TestBrowserSubprocess::test_cleanup_browser_graceful_exit PASSED [ 19%]
tests/test_browser_manager.py::TestBrowserSubprocess::test_cleanup_browser_force_terminate PASSED [ 19%]
tests/test_browser_manager.py::TestBrowserSubprocess::test_cleanup_browser_force_kill PASSED [ 19%]
tests/test_browser_manager.py::TestBrowserSubprocess::test_cleanup_browser_no_subprocess PASSED [ 20%]
tests/test_browser_manager.py::TestHtmlToPdfFast::test_html_to_pdf_fast_success PASSED [ 20%]
tests/test_browser_manager.py::TestHtmlToPdfFast::test_html_to_pdf_fast_error PASSED [ 20%]
tests/test_browser_manager.py::TestHtmlToPdfFast::test_html_to_pdf_fast_unexpected_response PASSED [ 20%]
tests/test_browser_manager.py::TestHtmlToPdfFast::test_html_to_pdf_fast_increment_render_count PASSED [ 21%]
tests/test_browser_manager.py::TestHtmlToPdfFast::test_html_to_pdf_fast_cleans_temp_file PASSED [ 21%]
tests/test_browser_manager.py::TestHtmlToPdfFast::test_html_to_pdf_fast_unicode_content PASSED [ 21%]
tests/test_e2e_scenarios.py::TestBatchResumeGenerationE2E::test_batch_submission_with_parallel_processing PASSED [ 21%]
tests/test_e2e_scenarios.py::TestBatchResumeGenerationE2E::test_batch_pause_resume_workflow PASSED [ 21%]
tests/test_e2e_scenarios.py::TestBatchResumeGenerationE2E::test_batch_error_handling_continues_processing PASSED [ 22%]
tests/test_e2e_scenarios.py::TestPDFFormattingE2E::test_language_detection_and_address_routing FAILED [ 22%]
tests/test_e2e_scenarios.py::TestPDFFormattingE2E::test_css_template_consistency PASSED [ 22%]
tests/test_e2e_scenarios.py::TestJobDiscoveryE2E::test_tag_weights_ranking PASSED [ 22%]
tests/test_e2e_scenarios.py::TestJobDiscoveryE2E::test_market_and_source_separation PASSED [ 23%]
tests/test_e2e_scenarios.py::TestJobDiscoveryE2E::test_job_discovery_limit_enforcement PASSED [ 23%]
tests/test_e2e_scenarios.py::TestApplicationTrackerE2E::test_salary_fields_storage_and_retrieval PASSED [ 23%]
tests/test_e2e_scenarios.py::TestApplicationTrackerE2E::test_relevance_score_categories PASSED [ 23%]
tests/test_e2e_scenarios.py::TestApplicationTrackerE2E::test_role_url_merge_workflow PASSED [ 24%]
tests/test_e2e_scenarios.py::TestResumeLibraryE2E::test_pdf_upload_and_metadata_creation PASSED [ 24%]
tests/test_e2e_scenarios.py::TestResumeLibraryE2E::test_pdf_preview_rendering PASSED [ 24%]
tests/test_e2e_scenarios.py::TestResumeLibraryE2E::test_template_deletion_workflow PASSED [ 24%]
tests/test_e2e_scenarios.py::TestLearningSystemE2E::test_pattern_learning_and_stats PASSED [ 24%]
tests/test_e2e_scenarios.py::TestLearningSystemE2E::test_cost_tracking_storage PASSED [ 25%]
tests/test_e2e_scenarios.py::TestLearningSystemE2E::test_ats_score_explanation_structure PASSED [ 25%]
tests/test_e2e_scenarios.py::TestFullPipelineIntegration::test_complete_resume_generation_workflow PASSED [ 25%]
tests/test_e2e_scenarios.py::TestE2EPerformance::test_batch_processing_performance PASSED [ 25%]
tests/test_e2e_scenarios.py::TestE2EPerformance::test_job_discovery_large_dataset_performance FAILED [ 26%]
tests/test_jd_parser.py::TestATSDetection::test_greenhouse_detection PASSED [ 26%]
tests/test_jd_parser.py::TestATSDetection::test_workday_detection PASSED [ 26%]
tests/test_jd_parser.py::TestATSDetection::test_lever_detection PASSED   [ 26%]
tests/test_jd_parser.py::TestATSDetection::test_ashby_detection PASSED   [ 27%]
tests/test_jd_parser.py::TestATSDetection::test_taleo_detection PASSED   [ 27%]
tests/test_jd_parser.py::TestATSDetection::test_unknown_url PASSED       [ 27%]
tests/test_jd_parser.py::TestATSDetection::test_empty_url PASSED         [ 27%]
tests/test_jd_parser.py::TestATSDetection::test_icims_detection PASSED   [ 27%]
tests/test_jd_parser.py::TestLanguageDetection::test_english_jd_returns_en PASSED [ 28%]
tests/test_jd_parser.py::TestLanguageDetection::test_spanish_jd_returns_es PASSED [ 28%]
tests/test_jd_parser.py::TestLanguageDetection::test_very_short_text_defaults_to_en PASSED [ 28%]
tests/test_jd_parser.py::TestLanguageDetection::test_empty_string_defaults_to_en PASSED [ 28%]
tests/test_jd_parser.py::TestLanguageDetection::test_mixed_language_mostly_english_returns_en PASSED [ 29%]
tests/test_jd_parser.py::TestExtractJDFromURL::test_extract_jd_prefers_description_blocks PASSED [ 29%]
tests/test_jd_parser.py::TestExtractJDFromURL::test_extract_jd_returns_empty_on_request_error PASSED [ 29%]
tests/test_jd_parser.py::TestSalaryExtraction::test_extract_k_format_with_currency PASSED [ 29%]
tests/test_jd_parser.py::TestSalaryExtraction::test_extract_k_format_uppercase PASSED [ 29%]
tests/test_jd_parser.py::TestSalaryExtraction::test_extract_euro_format PASSED [ 30%]
tests/test_jd_parser.py::TestSalaryExtraction::test_extract_comma_separated PASSED [ 30%]
tests/test_jd_parser.py::TestSalaryExtraction::test_extract_full_numbers_with_currency PASSED [ 30%]
tests/test_jd_parser.py::TestSalaryExtraction::test_extract_gbp_format PASSED [ 30%]
tests/test_jd_parser.py::TestSalaryExtraction::test_extract_k_no_currency PASSED [ 31%]
tests/test_jd_parser.py::TestSalaryExtraction::test_extract_k_with_eur_code PASSED [ 31%]
tests/test_jd_parser.py::TestSalaryExtraction::test_no_salary_returns_none PASSED [ 31%]
tests/test_jd_parser.py::TestSalaryExtraction::test_empty_string_returns_none PASSED [ 31%]
tests/test_jd_parser.py::TestCompanyExtraction::test_extract_company_from_santander_careers_url PASSED [ 32%]
tests/test_jd_parser.py::TestCompanyExtraction::test_extract_company_from_lever_url PASSED [ 32%]
tests/test_jd_parser.py::TestCompanyExtraction::test_extract_company_from_greenhouse_url PASSED [ 32%]
tests/test_jd_parser.py::TestCompanyExtraction::test_extract_company_from_workday_url PASSED [ 32%]
tests/test_jd_parser.py::TestCompanyExtraction::test_extract_company_fallback_at_pattern PASSED [ 32%]
tests/test_jd_parser.py::TestCompanyExtraction::test_extract_company_fallback_about_pattern PASSED [ 33%]
tests/test_jd_parser.py::TestCompanyExtraction::test_extract_company_fallback_company_label PASSED [ 33%]
tests/test_jd_parser.py::TestCompanyExtraction::test_extract_company_from_url_empty PASSED [ 33%]
tests/test_jd_parser.py::TestCompanyExtraction::test_extract_company_fallback_empty PASSED [ 33%]
tests/test_jd_parser.py::TestMarketDetection::test_mexico_country_returns_mx PASSED [ 34%]
tests/test_jd_parser.py::TestMarketDetection::test_mexico_city_returns_mx PASSED [ 34%]
tests/test_jd_parser.py::TestMarketDetection::test_ciudad_de_mexico_returns_mx PASSED [ 34%]
tests/test_jd_parser.py::TestMarketDetection::test_cdmx_returns_mx PASSED [ 34%]
tests/test_jd_parser.py::TestMarketDetection::test_guadalajara_returns_mx PASSED [ 35%]
tests/test_jd_parser.py::TestMarketDetection::test_san_francisco_returns_us PASSED [ 35%]
tests/test_jd_parser.py::TestMarketDetection::test_london_returns_uk PASSED [ 35%]
tests/test_jd_parser.py::TestMarketDetection::test_toronto_returns_ca PASSED [ 35%]
tests/test_jd_parser.py::TestMarketDetection::test_madrid_returns_es PASSED [ 35%]
tests/test_jd_parser.py::TestMarketDetection::test_paris_returns_fr PASSED [ 36%]
tests/test_jd_parser.py::TestMarketDetection::test_copenhagen_returns_dk PASSED [ 36%]
tests/test_jd_parser.py::TestMarketDetection::test_remote_returns_us PASSED [ 36%]
tests/test_jd_parser.py::TestMarketDetection::test_empty_returns_us PASSED [ 36%]
tests/test_jd_parser.py::TestMarketDetection::test_monterrey_returns_mx PASSED [ 37%]
tests/test_jd_parser.py::TestLanguageFromLocation::test_mexico_returns_es PASSED [ 37%]
tests/test_jd_parser.py::TestLanguageFromLocation::test_mexico_country_returns_es PASSED [ 37%]
tests/test_jd_parser.py::TestLanguageFromLocation::test_cdmx_returns_es PASSED [ 37%]
tests/test_jd_parser.py::TestLanguageFromLocation::test_madrid_returns_es PASSED [ 37%]
tests/test_jd_parser.py::TestLanguageFromLocation::test_paris_returns_fr PASSED [ 38%]
tests/test_jd_parser.py::TestLanguageFromLocation::test_london_returns_en PASSED [ 38%]
tests/test_jd_parser.py::TestLanguageFromLocation::test_san_francisco_returns_en PASSED [ 38%]
tests/test_jd_parser.py::TestLanguageFromLocation::test_toronto_returns_en PASSED [ 38%]
tests/test_jd_parser.py::TestLanguageFromLocation::test_empty_returns_en PASSED [ 39%]
tests/test_jd_parser.py::TestLanguageFromLocation::test_remote_returns_en PASSED [ 39%]
tests/test_jd_parser.py::TestLanguageFromLocation::test_copenhagen_returns_en PASSED [ 39%]
tests/test_jd_parser.py::TestLanguageFromLocation::test_guadalajara_returns_es PASSED [ 39%]
tests/test_jd_parser_extended.py::TestDetectATSPlatformExtended::test_greenhouse_variants PASSED [ 40%]
tests/test_jd_parser_extended.py::TestDetectATSPlatformExtended::test_workday_variants PASSED [ 40%]
tests/test_jd_parser_extended.py::TestDetectATSPlatformExtended::test_lever_variants PASSED [ 40%]
tests/test_jd_parser_extended.py::TestDetectATSPlatformExtended::test_case_insensitivity PASSED [ 40%]
tests/test_jd_parser_extended.py::TestDetectATSPlatformExtended::test_partial_matches_not_false_positives PASSED [ 40%]
tests/test_jd_parser_extended.py::TestDetectLanguageExtended::test_english_text PASSED [ 41%]
tests/test_jd_parser_extended.py::TestDetectLanguageExtended::test_spanish_text PASSED [ 41%]
tests/test_jd_parser_extended.py::TestDetectLanguageExtended::test_very_short_text_defaults_english PASSED [ 41%]
tests/test_jd_parser_extended.py::TestDetectLanguageExtended::test_empty_string_defaults_english PASSED [ 41%]
tests/test_jd_parser_extended.py::TestDetectLanguageExtended::test_numbers_and_symbols_default_english PASSED [ 42%]
tests/test_jd_parser_extended.py::TestExtractJDFromURLEdgeCases::test_network_timeout PASSED [ 42%]
tests/test_jd_parser_extended.py::TestExtractJDFromURLEdgeCases::test_connection_error PASSED [ 42%]
tests/test_jd_parser_extended.py::TestExtractJDFromURLEdgeCases::test_http_404_error PASSED [ 42%]
tests/test_jd_parser_extended.py::TestExtractJDFromURLEdgeCases::test_http_500_error PASSED [ 43%]
tests/test_jd_parser_extended.py::TestExtractJDFromURLEdgeCases::test_empty_html_response PASSED [ 43%]
tests/test_jd_parser_extended.py::TestExtractJDFromURLEdgeCases::test_malformed_html PASSED [ 43%]
tests/test_jd_parser_extended.py::TestExtractJDFromURLEdgeCases::test_unicode_characters_in_html PASSED [ 43%]
tests/test_jd_parser_extended.py::TestExtractJDFromURLEdgeCases::test_html_with_scripts_stripped PASSED [ 43%]
tests/test_jd_parser_extended.py::TestExtractJDFromURLEdgeCases::test_empty_url_returns_empty_string PASSED [ 44%]
tests/test_jd_parser_extended.py::TestExtractJDFromURLEdgeCases::test_extraction_with_long_content PASSED [ 44%]
tests/test_job_discovery_v2.py::test_market_field_stored_correctly PASSED [ 44%]
tests/test_job_discovery_v2.py::test_source_field_clean_no_suffix PASSED [ 44%]
tests/test_job_discovery_v2.py::test_tag_weights_set_and_retrieve PASSED [ 45%]
tests/test_job_discovery_v2.py::test_tag_weights_clamped_to_range PASSED [ 45%]
tests/test_job_discovery_v2.py::test_rank_discoveries_by_tag_weight PASSED [ 45%]
tests/test_job_discovery_v2.py::test_search_sessions_create_and_retrieve PASSED [ 45%]
tests/test_job_discovery_v2.py::test_search_sessions_update PASSED       [ 45%]
tests/test_job_discovery_v2.py::test_pause_resume_search PASSED          [ 46%]
tests/test_job_discovery_v2.py::test_250_job_limit_enforcement PASSED    [ 46%]
tests/test_job_discovery_v2.py::test_filters_work_correctly PASSED       [ 46%]
tests/test_job_discovery_v2.py::test_integration_search_save_filter_group PASSED [ 46%]
tests/test_job_discovery_v2.py::test_format_freshness PASSED             [ 47%]
tests/test_job_discovery_v2.py::test_rank_by_relevance_then_freshness PASSED [ 47%]
tests/test_job_discovery_v2.py::test_per_country_limit PASSED            [ 47%]
tests/test_job_discovery_v2.py::test_search_with_per_country_limit PASSED [ 47%]
tests/test_job_monitor.py::TestCheckUrlStatus::test_check_url_status_active PASSED [ 48%]
tests/test_job_monitor.py::TestCheckUrlStatus::test_check_url_status_closed_404 PASSED [ 48%]
tests/test_job_monitor.py::TestCheckUrlStatus::test_check_url_status_closed_signal PASSED [ 48%]
tests/test_job_monitor.py::TestCheckUrlStatus::test_check_url_status_expired_signal PASSED [ 48%]
tests/test_job_monitor.py::TestCheckUrlStatus::test_check_url_status_server_error PASSED [ 48%]
tests/test_job_monitor.py::TestCheckUrlStatus::test_check_url_status_request_exception PASSED [ 49%]
tests/test_job_monitor.py::TestCheckUrlStatus::test_check_url_status_empty_url PASSED [ 49%]
tests/test_job_monitor.py::TestCheckUrlStatus::test_check_url_status_closure_signals PASSED [ 49%]
tests/test_job_monitor.py::TestCheckUrlStatus::test_check_url_status_expiry_signals PASSED [ 49%]
tests/test_job_monitor.py::TestCheckUrlStatus::test_check_url_status_case_insensitive PASSED [ 50%]
tests/test_job_monitor.py::TestCheckUrlStatus::test_check_url_status_user_agent_header PASSED [ 50%]
tests/test_job_monitor.py::TestCheckAllActiveJobs::test_check_all_active_jobs_updates_status PASSED [ 50%]
tests/test_job_monitor.py::TestCheckAllActiveJobs::test_check_all_active_jobs_updates_timestamp PASSED [ 50%]
tests/test_job_monitor.py::TestCheckAllActiveJobs::test_check_all_active_jobs_skips_empty_urls PASSED [ 51%]
tests/test_job_monitor.py::TestCheckAllActiveJobs::test_check_all_active_jobs_returns_change_details PASSED [ 51%]
tests/test_job_monitor.py::TestGetGhostCandidates::test_get_ghost_candidates_finds_stale_applications PASSED [ 51%]
tests/test_job_monitor.py::TestGetGhostCandidates::test_get_ghost_candidates_excludes_recent_activity PASSED [ 51%]
tests/test_job_monitor.py::TestGetGhostCandidates::test_get_ghost_candidates_respects_days_parameter PASSED [ 51%]
tests/test_job_monitor.py::TestGetGhostCandidates::test_get_ghost_candidates_handles_missing_dates PASSED [ 52%]
tests/test_job_monitor.py::TestGetGhostCandidates::test_get_ghost_candidates_handles_invalid_dates PASSED [ 52%]
tests/test_job_monitor.py::TestGetGhostCandidates::test_get_ghost_candidates_uses_applied_date_fallback PASSED [ 52%]
tests/test_learning_transparency.py::test_get_pattern_stats_empty_db PASSED [ 52%]
tests/test_learning_transparency.py::test_get_pattern_stats_with_patterns PASSED [ 53%]
tests/test_learning_transparency.py::test_pattern_stats_cache_hit_rate_calculation PASSED [ 53%]
tests/test_learning_transparency.py::test_pattern_stats_top_patterns_limit PASSED [ 53%]
tests/test_learning_transparency.py::test_explain_ats_score_improvement PASSED [ 53%]
tests/test_learning_transparency.py::test_explain_ats_score_high_original PASSED [ 54%]
tests/test_learning_transparency.py::test_explain_ats_score_includes_keywords PASSED [ 54%]
tests/test_learning_transparency.py::test_cost_tracking_accuracy PASSED  [ 54%]
tests/test_learning_transparency.py::test_cost_per_resume_trend PASSED   [ 54%]
tests/test_learning_transparency.py::test_pattern_stats_json_serializable PASSED [ 54%]
tests/test_learning_transparency.py::test_ats_explanation_non_empty PASSED [ 55%]
tests/test_learning_transparency.py::test_cost_saved_estimation PASSED   [ 55%]
tests/test_llm.py::test_retry_on_rate_limit PASSED                       [ 55%]
tests/test_llm.py::test_retry_on_rate_limit_max_retries PASSED           [ 55%]
tests/test_llm.py::test_retry_on_timeout PASSED                          [ 56%]
tests/test_llm.py::test_retry_on_timeout_max_retries PASSED              [ 56%]
tests/test_llm.py::test_retry_on_connection_error PASSED                 [ 56%]
tests/test_llm.py::test_retry_on_internal_server_error PASSED            [ 56%]
tests/test_llm.py::test_no_retry_on_authentication_error PASSED          [ 56%]
tests/test_llm.py::test_retry_exponential_backoff PASSED                 [ 57%]
tests/test_llm.py::test_retry_telemetry PASSED                           [ 57%]
tests/test_llm.py::test_cost_tracking_after_retry PASSED                 [ 57%]
tests/test_llm.py::test_retry_multiple_error_types PASSED                [ 57%]
tests/test_llm.py::test_retry_does_not_break_return_values PASSED        [ 58%]
tests/test_llm.py::test_call_haiku_with_retry PASSED                     [ 58%]
tests/test_llm.py::test_call_sonnet_with_retry PASSED                    [ 58%]
tests/test_llm.py::test_calculate_cost PASSED                            [ 58%]
tests/test_llm.py::test_session_cost_tracking PASSED                     [ 59%]
tests/test_llm.py::test_cache_key_generation PASSED                      [ 59%]
tests/test_llm.py::test_client_property_initialization PASSED            [ 59%]
tests/test_llm.py::test_budget_exceeded_error PASSED                     [ 59%]
tests/test_llm.py::test_call_with_system_prompt PASSED                   [ 59%]
tests/test_llm.py::test_call_with_cache_system PASSED                    [ 60%]
tests/test_llm.py::test_call_with_temperature_and_max_tokens PASSED      [ 60%]
tests/test_llm.py::test_model_routing PASSED                             [ 60%]
tests/test_llm.py::test_response_text_extraction PASSED                  [ 60%]
tests/test_llm.py::test_cache_file_operations PASSED                     [ 61%]
tests/test_llm.py::test_cache_corrupted_json PASSED                      [ 61%]
tests/test_llm.py::test_client_initialization_without_api_key PASSED     [ 61%]
tests/test_matcher.py::test_match_templates_uses_local_fallback_when_llm_returns_empty PASSED [ 61%]
tests/test_matcher.py::test_match_templates_fallback_handles_no_keywords PASSED [ 62%]
tests/test_models.py::TestEnums::test_template_types PASSED              [ 62%]
tests/test_models.py::TestEnums::test_resume_status_values PASSED        [ 62%]
tests/test_models.py::TestEnums::test_application_status_values PASSED   [ 62%]
tests/test_models.py::TestEnums::test_job_status_values PASSED           [ 62%]
tests/test_models.py::TestEnums::test_ats_platform_values PASSED         [ 63%]
tests/test_models.py::TestParsedJD::test_create_minimal PASSED           [ 63%]
tests/test_models.py::TestParsedJD::test_create_full PASSED              [ 63%]
tests/test_models.py::TestApplication::test_create_with_defaults PASSED  [ 63%]
tests/test_models.py::TestApplication::test_create_with_statuses PASSED  [ 64%]
tests/test_models.py::TestATSScore::test_create_score PASSED             [ 64%]
tests/test_pdf_formatting.py::TestFontConsistency::test_css_no_calibri PASSED [ 64%]
tests/test_pdf_formatting.py::TestFontConsistency::test_css_uses_sans_serif_fonts PASSED [ 64%]
tests/test_pdf_formatting.py::TestTypographyHierarchy::test_css_header_h1_size PASSED [ 64%]
tests/test_pdf_formatting.py::TestTypographyHierarchy::test_css_header_h2_size_and_italic PASSED [ 65%]
tests/test_pdf_formatting.py::TestTypographyHierarchy::test_css_section_h3_size PASSED [ 65%]
tests/test_pdf_formatting.py::TestTypographyHierarchy::test_css_section_h3_border PASSED [ 65%]
tests/test_pdf_formatting.py::TestTypographyHierarchy::test_css_company_italic PASSED [ 65%]
tests/test_pdf_formatting.py::TestTypographyHierarchy::test_css_strong_weight_and_color PASSED [ 66%]
tests/test_pdf_formatting.py::TestSpacingConsistency::test_css_line_height PASSED [ 66%]
tests/test_pdf_formatting.py::TestSpacingConsistency::test_css_section_spacing PASSED [ 66%]
tests/test_pdf_formatting.py::TestSpacingConsistency::test_css_bullet_spacing PASSED [ 66%]
tests/test_pdf_formatting.py::TestSpacingConsistency::test_css_experience_entry_spacing PASSED [ 67%]
tests/test_pdf_formatting.py::TestInformationOrder::test_html_experience_before_education PASSED [ 67%]
tests/test_pdf_formatting.py::TestInformationOrder::test_html_right_column_order PASSED [ 67%]
tests/test_pdf_formatting.py::TestInformationOrder::test_html_location_has_class PASSED [ 67%]
tests/test_pdf_formatting.py::TestLanguageDetection::test_detect_english_jd PASSED [ 67%]
tests/test_pdf_formatting.py::TestLanguageDetection::test_detect_spanish_jd PASSED [ 68%]
tests/test_pdf_formatting.py::TestLanguageDetection::test_detect_language_short_text PASSED [ 68%]
tests/test_pdf_formatting.py::TestLanguageDetection::test_detect_language_empty PASSED [ 68%]
tests/test_pdf_formatting.py::TestLanguageDetection::test_detect_language_mixed PASSED [ 68%]
tests/test_pdf_formatting.py::TestAddressRouting::test_address_for_english PASSED [ 69%]
tests/test_pdf_formatting.py::TestAddressRouting::test_address_for_spanish PASSED [ 69%]
tests/test_pdf_formatting.py::TestAddressRouting::test_address_for_french PASSED [ 69%]
tests/test_pdf_formatting.py::TestAddressRouting::test_address_for_unknown PASSED [ 69%]
tests/test_pdf_formatting.py::TestAddressRouting::test_address_case_insensitive PASSED [ 70%]
tests/test_pdf_formatting.py::TestIntegration::test_css_and_html_consistency PASSED [ 70%]
tests/test_pdf_formatting.py::TestIntegration::test_templates_exist PASSED [ 70%]
tests/test_pdf_formatting.py::TestIntegration::test_template_encoding PASSED [ 70%]
tests/test_pipeline.py::TestWriteMetadata::test_write_metadata_creates_file PASSED [ 70%]
tests/test_pipeline.py::TestWriteMetadata::test_write_metadata_content PASSED [ 71%]
tests/test_pipeline.py::TestWriteMetadata::test_write_metadata_keywords PASSED [ 71%]
tests/test_renderer.py::TestSanitize::test_sanitize_basic PASSED         [ 71%]
tests/test_renderer.py::TestSanitize::test_sanitize_special_chars PASSED [ 71%]
tests/test_renderer.py::TestSanitize::test_sanitize_max_length PASSED    [ 72%]
tests/test_renderer.py::TestSanitize::test_sanitize_empty_string PASSED  [ 72%]
tests/test_renderer.py::TestSanitize::test_sanitize_whitespace_only PASSED [ 72%]
tests/test_renderer.py::TestSanitize::test_sanitize_special_chars_only PASSED [ 72%]
tests/test_renderer.py::TestGetNextVersion::test_get_next_version_empty_folder PASSED [ 72%]
tests/test_renderer.py::TestGetNextVersion::test_get_next_version_nonexistent_folder PASSED [ 73%]
tests/test_renderer.py::TestGetNextVersion::test_get_next_version_with_existing PASSED [ 73%]
tests/test_renderer.py::TestSectionLabels::test_section_labels_en PASSED [ 73%]
tests/test_renderer.py::TestSectionLabels::test_section_labels_es PASSED [ 73%]
tests/test_renderer.py::TestSectionLabels::test_section_labels_es_values PASSED [ 74%]
tests/test_renderer.py::TestPDFRendering::test_render_pdf_subprocess_failure PASSED [ 74%]
tests/test_renderer.py::TestPDFRendering::test_render_pdf_timeout PASSED [ 74%]
tests/test_renderer.py::TestPDFRendering::test_render_pdf_success_after_retry PASSED [ 74%]
tests/test_renderer.py::TestPDFRendering::test_render_pdf_error_log_created PASSED [ 75%]
tests/test_renderer.py::TestPDFRendering::test_render_pdf_max_retries_exhausted PASSED [ 75%]
tests/test_renderer.py::TestDOCXStructure::test_company_title_separation PASSED [ 75%]
tests/test_renderer.py::TestDOCXStructure::test_condensed_experience_structure PASSED [ 75%]
tests/test_renderer.py::TestDOCXStructure::test_date_format_consistency PASSED [ 75%]
tests/test_renderer.py::TestDOCXStructure::test_no_tables_in_experience PASSED [ 76%]
tests/test_renderer.py::TestDOCXStructure::test_standard_section_headers PASSED [ 76%]
tests/test_renderer.py::TestOutputNaming::test_output_naming_with_company PASSED [ 76%]
tests/test_renderer.py::TestOutputNaming::test_output_naming_placeholder_rejected PASSED [ 76%]
tests/test_resume_library.py::TestPDFUpload::test_single_pdf_upload PASSED [ 77%]
tests/test_resume_library.py::TestPDFUpload::test_batch_pdf_upload PASSED [ 77%]
tests/test_resume_library.py::TestPDFUpload::test_duplicate_template_detection PASSED [ 77%]
tests/test_resume_library.py::TestPDFUpload::test_filename_sanitization PASSED [ 77%]
tests/test_resume_library.py::TestPDFUpload::test_file_size_validation PASSED [ 78%]
tests/test_resume_library.py::TestPDFUpload::test_metadata_structure PASSED [ 78%]
tests/test_resume_library.py::TestTemplateManagement::test_delete_template PASSED [ 78%]
tests/test_resume_library.py::TestTemplateManagement::test_edit_template_metadata PASSED [ 78%]
tests/test_resume_library.py::TestTemplateManagement::test_template_download_data PASSED [ 78%]
tests/test_resume_library.py::TestPDFPreview::test_pdf_preview_with_pymupdf PASSED [ 79%]
tests/test_resume_library.py::TestPDFPreview::test_pdf_preview_fallback PASSED [ 79%]
tests/test_resume_library.py::TestLanguageSupport::test_language_options PASSED [ 79%]
tests/test_resume_library.py::TestLanguageSupport::test_template_with_different_languages PASSED [ 79%]
tests/test_resume_library.py::TestEdgeCases::test_empty_sources_file_initialization PASSED [ 80%]
tests/test_resume_library.py::TestEdgeCases::test_missing_resume_references_directory PASSED [ 80%]
tests/test_resume_library.py::TestEdgeCases::test_empty_template_name PASSED [ 80%]
tests/test_resume_library.py::TestEdgeCases::test_special_characters_in_path PASSED [ 80%]
tests/test_resume_library.py::TestIntegration::test_complete_upload_workflow PASSED [ 81%]
tests/test_resume_library.py::TestIntegration::test_multiple_templates_concurrent_operations PASSED [ 81%]
tests/test_resume_sources.py::test_resume_sources_defaults_when_file_missing PASSED [ 81%]
tests/test_resume_sources.py::test_resume_sources_round_trip PASSED      [ 81%]
tests/test_starred_workflow.py::TestStarredJobsWorkflow::test_star_and_unstar_job PASSED [ 81%]
tests/test_starred_workflow.py::TestStarredJobsWorkflow::test_list_starred_jobs PASSED [ 82%]
tests/test_starred_workflow.py::TestStarredJobsWorkflow::test_starred_jobs_have_valid_urls PASSED [ 82%]
tests/test_starred_workflow.py::TestStarredJobsWorkflow::test_starred_status_enum PASSED [ 82%]
tests/test_starred_workflow.py::TestStarredJobsWorkflow::test_status_filter_case_insensitive PASSED [ 82%]
tests/test_starred_workflow.py::TestStarredJobsWorkflow::test_import_starred_workflow_integration PASSED [ 83%]
tests/test_starred_workflow.py::TestStarredJobsWorkflow::test_star_button_updates_status PASSED [ 83%]
tests/test_starred_workflow.py::TestStarredJobsWorkflow::test_multiple_markets_starred_workflow PASSED [ 83%]
tests/test_starred_workflow.py::TestStarredJobsWorkflow::test_starred_jobs_preserved_after_dismissed PASSED [ 83%]
tests/test_starred_workflow.py::TestStarredJobsWorkflow::test_empty_starred_list PASSED [ 83%]
tests/test_style_extractor.py::TestExtractedStyleModel::test_default_style PASSED [ 84%]
tests/test_style_extractor.py::TestExtractedStyleModel::test_custom_style PASSED [ 84%]
tests/test_style_extractor.py::TestExtractedStyleModel::test_style_metadata PASSED [ 84%]
tests/test_style_extractor.py::TestFontNormalization::test_normalize_calibri PASSED [ 84%]
tests/test_style_extractor.py::TestFontNormalization::test_normalize_arial PASSED [ 85%]
tests/test_style_extractor.py::TestFontNormalization::test_normalize_helvetica PASSED [ 85%]
tests/test_style_extractor.py::TestFontNormalization::test_normalize_times PASSED [ 85%]
tests/test_style_extractor.py::TestFontNormalization::test_normalize_unknown PASSED [ 85%]
tests/test_style_extractor.py::TestHelperFunctions::test_get_most_common PASSED [ 86%]
tests/test_style_extractor.py::TestHelperFunctions::test_get_most_common_single PASSED [ 86%]
tests/test_style_extractor.py::TestHelperFunctions::test_get_most_common_empty PASSED [ 86%]
tests/test_style_extractor.py::TestCSSGeneration::test_generate_css_default PASSED [ 86%]
tests/test_style_extractor.py::TestCSSGeneration::test_generate_css_custom PASSED [ 86%]
tests/test_style_extractor.py::TestCSSGeneration::test_css_has_selectors PASSED [ 87%]
tests/test_style_extractor.py::TestCSSGeneration::test_css_applies_variables PASSED [ 87%]
tests/test_style_extractor.py::TestPDFStyleExtraction::test_extract_from_nonexistent_pdf PASSED [ 87%]
tests/test_style_extractor.py::TestPDFStyleExtraction::test_extract_without_pymupdf PASSED [ 87%]
tests/test_style_extractor.py::TestPDFStyleExtraction::test_extract_from_real_pdf PASSED [ 88%]
tests/test_style_extractor.py::TestTemplateStyleLoading::test_get_available_styles_includes_default PASSED [ 88%]
tests/test_style_extractor.py::TestTemplateStyleLoading::test_load_default_style PASSED [ 88%]
tests/test_style_extractor.py::TestTemplateStyleLoading::test_load_invalid_path PASSED [ 88%]
tests/test_style_extractor.py::TestTemplateStyleLoading::test_get_available_styles_from_sources PASSED [ 89%]
tests/test_style_extractor.py::TestIntegration::test_full_pipeline_default_style PASSED [ 89%]
tests/test_style_extractor.py::TestIntegration::test_full_pipeline_custom_style PASSED [ 89%]
tests/test_style_extractor.py::TestIntegration::test_extract_and_generate_css_from_real_pdf PASSED [ 89%]
tests/test_style_extractor.py::TestEdgeCases::test_empty_style_name PASSED [ 89%]
tests/test_style_extractor.py::TestEdgeCases::test_special_characters_in_path PASSED [ 90%]
tests/test_style_extractor.py::TestEdgeCases::test_unicode_font_names PASSED [ 90%]
tests/test_style_extractor.py::TestEdgeCases::test_extreme_font_sizes PASSED [ 90%]
tests/test_style_extractor.py::TestEdgeCases::test_hex_color_without_hash PASSED [ 90%]
tests/test_tracker.py::TestTrackerDB::test_init_creates_tables PASSED    [ 91%]
tests/test_tracker.py::TestTrackerDB::test_add_company PASSED            [ 91%]
tests/test_tracker.py::TestTrackerDB::test_get_or_create_company PASSED  [ 91%]
tests/test_tracker.py::TestTrackerDB::test_add_application PASSED        [ 91%]
tests/test_tracker.py::TestTrackerDB::test_get_application PASSED        [ 91%]
tests/test_tracker.py::TestTrackerDB::test_update_application_status PASSED [ 92%]
tests/test_tracker.py::TestTrackerDB::test_update_invalid_field_raises PASSED [ 92%]
tests/test_tracker.py::TestTrackerDB::test_three_status_pipelines PASSED [ 92%]
tests/test_tracker.py::TestTrackerDB::test_add_resume PASSED             [ 92%]
tests/test_tracker.py::TestTrackerDB::test_log_cost PASSED               [ 93%]
tests/test_tracker.py::TestTrackerDB::test_search_tags PASSED            [ 93%]
tests/test_tracker.py::TestTrackerDB::test_search_tag_dedup PASSED       [ 93%]
tests/test_tracker.py::TestTrackerDB::test_search_tag_normalization_case_insensitive PASSED [ 93%]
tests/test_tracker.py::TestTrackerDB::test_job_discovery PASSED          [ 94%]
tests/test_tracker.py::TestTrackerDB::test_list_discoveries_status_filter_case_insensitive PASSED [ 94%]
tests/test_tracker.py::TestTrackerDB::test_list_discoveries_search_filter PASSED [ 94%]
tests/test_tracker.py::TestTrackerDB::test_job_discovery_dedup PASSED    [ 94%]
tests/test_tracker.py::TestTrackerDB::test_dashboard_stats PASSED        [ 94%]
tests/test_tracker.py::TestTrackerDB::test_list_applications_filter PASSED [ 95%]
tests/test_tracker.py::TestTrackerDB::test_create_from_pipeline PASSED   [ 95%]
tests/test_tracker.py::TestTrackerDB::test_list_all_resumes PASSED       [ 95%]
tests/test_tracker.py::TestTrackerDB::test_get_next_resume_version PASSED [ 95%]
tests/test_tracker.py::TestTrackerDB::test_delete_resume PASSED          [ 96%]
tests/test_tracker.py::TestTrackerDB::test_delete_resume_nonexistent PASSED [ 96%]
tests/test_tracker.py::TestTrackerDB::test_is_url_known_in_discoveries PASSED [ 96%]
tests/test_tracker.py::TestTrackerDB::test_is_url_known_in_applications PASSED [ 96%]
tests/test_tracker.py::TestTrackerDB::test_is_url_known_unknown PASSED   [ 97%]
tests/test_tracker.py::TestTrackerDB::test_is_url_known_empty PASSED     [ 97%]
tests/test_tracker.py::TestTrackerDB::test_update_application PASSED     [ 97%]
tests/test_tracker.py::TestTrackerDB::test_delete_application PASSED     [ 97%]
tests/test_tracker.py::TestTrackerDB::test_delete_application_with_multiple_resumes PASSED [ 97%]
tests/test_tracker.py::TestTrackerDB::test_delete_application_nonexistent PASSED [ 98%]
tests/test_tracker.py::TestTrackerDB::test_delete_application_preserves_company PASSED [ 98%]
tests/test_tracker.py::TestTrackerConcurrency::test_connection_pooling_enabled PASSED [ 98%]
tests/test_tracker.py::TestTrackerConcurrency::test_connection_health_check PASSED [ 98%]
tests/test_tracker.py::TestTrackerConcurrency::test_transaction_context_manager PASSED [ 99%]
tests/test_tracker.py::TestTrackerConcurrency::test_transaction_rollback_on_error PASSED [ 99%]
tests/test_tracker.py::TestTrackerConcurrency::test_concurrent_updates_no_lock_error PASSED [ 99%]
tests/test_tracker.py::TestTrackerConcurrency::test_server_side_timestamps PASSED [ 99%]
tests/test_tracker.py::TestTrackerConcurrency::test_update_uses_server_timestamp PASSED [100%]

================================== FAILURES ===================================
______ TestPDFFormattingE2E.test_language_detection_and_address_routing _______
tests\test_e2e_scenarios.py:271: in test_language_detection_and_address_routing
    assert lang == "fr"
E   AssertionError: assert 'en' == 'fr'
E     
E     - fr
E     + en
_______ TestE2EPerformance.test_job_discovery_large_dataset_performance _______
tests\test_e2e_scenarios.py:884: in test_job_discovery_large_dataset_performance
    assert elapsed < 5.0, f"Adding 250 discoveries too slow: {elapsed}s"
E   AssertionError: Adding 250 discoveries too slow: 5.552193641662598s
E   assert 5.552193641662598 < 5.0
=========================== short test summary info ===========================
FAILED tests/test_e2e_scenarios.py::TestPDFFormattingE2E::test_language_detection_and_address_routing - AssertionError: assert 'en' == 'fr'
  
  - fr
  + en
FAILED tests/test_e2e_scenarios.py::TestE2EPerformance::test_job_discovery_large_dataset_performance - AssertionError: Adding 250 discoveries too slow: 5.552193641662598s
assert 5.552193641662598 < 5.0
============ 2 failed, 435 passed, 8 warnings in 317.09s (0:05:17) ============
